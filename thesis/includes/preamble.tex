% !TEX root = ../thesis.tex

\usepackage{scrhack}
\setcounter{secnumdepth}{3}

\deffootnote[1.5em]{1.5em}{1em}{\thefootnotemark. }
\addtokomafont{captionlabel}{\bfseries}
\setcapwidth[c]{.95\linewidth}

\usepackage{caption}
\usepackage{subcaption}
\DeclareCaptionLabelFormat{continued}{#1~#2 (\emph{Cont.})}
\captionsetup[ContinuedFloat]{labelformat=continued}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman,main=english]{babel}
\babeltags{de=ngerman,en=english}
\usepackage{etoolbox}
\usepackage{xifthen}

\usepackage{libertine}
\usepackage[scaled=0.79]{beramono}
\usepackage{textcomp}
\usepackage[onehalfspacing]{setspace}
\usepackage{pdflscape}
\AfterTOCHead{\singlespacing}
\recalctypearea
\usepackage{xspace}

\usepackage[svgnames]{xcolor}
\definecolor{comment}{HTML}{236E25}
\definecolor{keyword}{HTML}{881280}
\definecolor{ndkeyword}{HTML}{994500}
\definecolor{string}{HTML}{1A1AA6}

\usepackage{graphicx}

\usepackage{tabularx}
\newcolumntype{b}{>{\bfseries}c}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{multicol}

\usepackage{enumitem}
\setlist{nolistsep}

\usepackage{tikz}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{patterns}

\usepackage[hyphens]{url}
\urlstyle{same}
\renewcommand{\UrlBreaks}{%
  \do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j\do\k\do\l\do\m\do\n\do\o%
  \do\p\do\q\do\r\do\u\do\v\do\w\do\x\do\y\do\z\do\A\do\B\do\C\do\D\do\E\do\F%
  \do\G\do\H\do\I\do\J\do\K\do\L\do\M\do\N\do\O\do\P\do\Q\do\R\do\U\do\V\do\W%
  \do\X\do\Y\do\Z\do\_\do\/\do\-}

\usepackage[unicode]{hyperref}
\hypersetup{
  breaklinks,
  hidelinks,
  draft=false,
  colorlinks=true,
  urlcolor=comment,
  linkcolor=keyword,
  citecolor=string,
  pdfauthor={Christian Autermann},
  pdfsubject={Master-Thesis},
  pdftitle={Streaming Web-Services for Calculating Live Hydrological Derivatives}
}
\usepackage[capitalise,noabbrev,nameinlink]{cleveref}
\crefname{lstlisting}{Listing}{Listings}
\Crefname{lstlisting}{Listing}{Listings}

\usepackage[semicolon,authoryear,round,comma,compress]{natbib}
\bibliographystyle{abbrvnat}

\usepackage{acronym}

\newcommand{\acrocitep}[2]{\acl{#1} \citep[\acs{#1},][]{#2}\acused{#1}}

\usepackage[binary,textstyle]{SIunits}

\usepackage{scrpage2}
\clearscrheadfoot
\cfoot[\pagemark]{\pagemark}

\usepackage[final]{listings}
\makeatletter
\def\addToLiterate#1{\edef\lst@literate{\unexpanded\expandafter{\lst@literate}\unexpanded{#1}}}
\lst@Key{moreliterate}{}{\addToLiterate{#1}}
\makeatother

\lstset{%
  numberstyle=\ttfamily\small,
  basicstyle=\ttfamily\small\mdseries\singlespacing,
  backgroundcolor=\color{white},
  commentstyle=\color{comment},
  stringstyle=\color{string},
  identifierstyle=\color{black},
  keywordstyle=\color{keyword}\bfseries,
  ndkeywordstyle=\color{ndkeyword},
  lineskip={-2.5pt}
}
\lstset{%
  %columns=fullflexible,
  breakatwhitespace=false,
  breaklines=true,
  showstringspaces=false,
  tabsize=2,
  captionpos=t,
  frame=L,
  frameround=ffff,
  numbers=left,
  stepnumber=5,
  numberfirstline=false,
  firstnumber=1,
  xleftmargin=2\bigskipamount,
  framexleftmargin=0pt,
  xrightmargin=2\bigskipamount,
  framexrightmargin=2\bigskipamount,
  aboveskip=\bigskipamount,
  belowskip=\bigskipamount,
}

\lstset{moreliterate=
  {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
  {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
  {à}{{\`a}}1 {è}{{\'e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
  {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
  {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
  {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
  {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
  {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
  {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
  {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
  {€}{{\EUR}}1 {£}{{\pounds}}1 {°}{{\textdegree}}1
  {µ}{{$\mathrm{\mu}$}}1 {μ}{{$\mathrm{\mu}$}}1
  {±}{{$\pm$}}1 {σ}{{$\mathrm{\sigma}$}}1
  {⋅}{{$\cdot$}}1 {‘}{`}1 {’}{'}1
}

\lstdefinelanguage{yaml}{
  keywords={true, false, null, y, n},
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  moredelim=[l][\color{ndkeyword}]{\&},
  moredelim=[l][\color{ndkeyword}]{*},
  moredelim=**[il][\textcolor{ndkeyword}{:}]{:},
  morestring=[b]',
  morestring=[b]",
  moreliterate = {---}{{\textcolor{ndkeyword}{-{-}-}}}3
                 {...}{{\textcolor{ndkeyword}{...}}}3
                 {>}{{\textcolor{ndkeyword}\textgreater}}1
                 {|}{{\textcolor{ndkeyword}\textbar}}1
                 {\ -\ }{{\textcolor{ndkeyword}{\ -\ }}}3
}

\lstdefinelanguage{JavaScript}{
  morekeywords={
    break, case, catch, continue, debugger, default, delete, do, else, finally, for, function, if, in, instanceof, new,
    return, switch, this, throw, try, typeof, var, while, with, null, throw, this
  },
  morendkeywords={
    Object, Array, Boolean, Date, window, Number, String, Math, XMLHttpRequest, document, prototype, undefined, Infinity,
    WebSocket, NaN, import, export, this, console, Error
  },
  sensitive,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
}
\lstdefinelanguage{XML}{
  morestring=[b]",
  morecomment=[s]{<?}{?>},
  morecomment=[s]{<!--}{-->},
  morecomment=[s]{&}{;},
  alsoletter={:},
  morekeywords={
    ComplexData, ComplexOutput, DataInputs, Default, Encoding, Format, hello, Input, LiteralData, LiteralOutput, MimeType,
    Output, ows:Abstract, ows:AllowedValues, ows:AnyValue, ows:DataType, ows:Exception, ows:ExceptionText, ows:Identifier,
    ows:LowerCorner, ows:Title, ows:UOM, ows:UpperCorner, ows:Value, ProcessDescription, ProcessOutputs, soap:Body,
    soap:Envelope, soap:Header, stream:DescribeMessage, stream:DescriptionMessage, stream:ErrorMessage, stream:InputMessage,
    stream:Inputs, stream:Output, stream:OutputMessage, stream:OutputRequestMessage, stream:Outputs, stream:ProcessID,
    stream:Reference, stream:ReferenceInput, stream:StaticInputs, stream:StopMessage, stream:StreamingInput,
    stream:StreamingProcessDescription, Supported, UOMs, wps:BoundingBoxData, wps:ComplexData, wps:Data, wps:DataInputs,
    wps:Execute, wps:ExecuteResponse, wps:Input, wps:LiteralData, wps:Output, wps:Process, wps:ProcessDescriptions,
    wps:ProcessOutputs, wps:ProcessSucceeded, wps:Reference, wps:Status, wsa:Action, wsa:Address, wsa:FaultTo, wsa:From,
    wsa:MessageID, wsa:RelatesTo, wsa:ReplyTo, wsa:To,
  },
  morendkeywords={
    creationTime, crs, dataType, dimensions, encoding, exceptionCode, finalResult, includeInputs, intermediateResults,
    maxOccurs, method, mimeType, minOccurs, ows:reference, RelationshipType, service, serviceInstance, statusSupported,
    storeSupported, version, wps:processVersion, xlink:href, xml:lang, xmlns:ows, xmlns:soap, xmlns:stream, xmlns:wps,
    xmlns:wsa, xmlns:xlink, schema
  }
}

\newcommand{\mail}[1]{\href{mailto:#1}{#1}}
\newcommand{\texttag}[2]{{\ttfamily\textless#1:#2\textgreater}}

\newcommand{\sign}[1]{{%
  \leavevmode\unskip\nobreak\hfil\penalty50\hskip2em\hbox{}\nobreak\hfil%
  \textup{\small--- #1}\parfillskip=0pt\finalhyphendemerits=0\endgraf%
}}

\newsavebox\signedbox
\newenvironment{xquote}[1][]
  {\savebox\signedbox{#1}\quote\itshape}
  {\ifthenelse{\isempty{\usebox\signedbox}}{\sign{\usebox\signedbox}}\endquote}

\newcommand{\ftn}{52\textdegree{}North\xspace}
\newcommand{\la}{LakeAnalyzer\xspace}
\newcommand{\pseudosubfigure}[2]{\hyperref[#1]{Figure \ref*{#1}#2}}
\newcommand{\step}[2]{\hyperref[#1]{step #2}}
\newcommand{\Step}[2]{\hyperref[#1]{step #2}}
\newcommand{\steps}[3]{\hyperref[#1]{steps #2} and \hyperref[#1]{#3}}
\newcommand{\Steps}[3]{\hyperref[#1]{Steps #2} and \hyperref[#1]{#3}}
\newcommand{\steprange}[3]{\hyperref[#1]{steps #2} to \hyperref[#1]{#3}}
\newcommand{\Steprange}[3]{\hyperref[#1]{Steps #2} to \hyperref[#1]{#3}}
\renewcommand{\lstlistlistingname}{List of Listings}
\newenvironment{bold}{\bfseries}{}
\newenvironment{italic}{\itshape}{}
\newenvironment{smallcaps}{\scshape}{}
\newenvironment{slanted}{\slshape}{}
\newenvironment{sansserif}{\sffamily}{}
\newenvironment{serif}{\rmfamily}{}
\newenvironment{fixedwidth}{\ttfamily}{}
\newenvironment{listings}{\pagestyle{scrplain}\pagenumbering{roman}}{\clearpage}
\newenvironment{content}{\pagestyle{scrheadings}\pagenumbering{arabic}}{\bibliography{\jobname}\clearpage}
\newenvironment{noclearpage}{\renewcommand{\clearpage}{}}{}
\AtBeginEnvironment{appendix}{
    \clearpage
    \pagenumbering{gobble}
    \part*{Appendix}
    \pagestyle{scrplain}
    \pagenumbering{roman}
    %\KOMAoptions{chapterprefix}
    \lstset{%
      numberstyle=\ttfamily\footnotesize,
      basicstyle=\ttfamily\footnotesize\mdseries\singlespacing,
      lineskip={-2pt}
    }
  }
\AtEndEnvironment{appendix}{\clearpage}
\AtEndEnvironment{listings}{\clearpage}
\AtEndEnvironment{contents}{\clearpage}
\day=5 \month=5 \year=2014
\def\lastretrieved{Last retrieved May 4, 2014}
\def\lastretrievedp{(\lastretrieved)}